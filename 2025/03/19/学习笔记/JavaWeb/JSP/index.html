<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JSP笔记 | 鹏</title><meta name="author" content="Penn Xiang"><meta name="copyright" content="Penn Xiang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="JSP第一个JSP程序：  在WEB-INF目录之外创建一个index.jsp文件，然后这个文件中没有任何内容。  将上面的项目部署之后，启动服务器，打开浏览器，访问以下地址：  http:&#x2F;&#x2F;localhost:8080&#x2F;jsp&#x2F;index.jsp 展现在大家面前的是一个空白。 实际上访问以上的这个：index.jsp，底层执行的是：index_jsp.class 这个java程序。 这个ind">
<meta property="og:type" content="article">
<meta property="og:title" content="JSP笔记">
<meta property="og:url" content="https://pennxiang.github.io/2025/03/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb/JSP/index.html">
<meta property="og:site_name" content="鹏">
<meta property="og:description" content="JSP第一个JSP程序：  在WEB-INF目录之外创建一个index.jsp文件，然后这个文件中没有任何内容。  将上面的项目部署之后，启动服务器，打开浏览器，访问以下地址：  http:&#x2F;&#x2F;localhost:8080&#x2F;jsp&#x2F;index.jsp 展现在大家面前的是一个空白。 实际上访问以上的这个：index.jsp，底层执行的是：index_jsp.class 这个java程序。 这个ind">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pennxiang.github.io/img/previews/default_cover.png">
<meta property="article:published_time" content="2025-03-19T12:43:44.000Z">
<meta property="article:modified_time" content="2025-05-07T15:38:46.079Z">
<meta property="article:author" content="Penn Xiang">
<meta property="article:tag" content="JSP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pennxiang.github.io/img/previews/default_cover.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "JSP笔记",
  "url": "https://pennxiang.github.io/2025/03/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb/JSP/",
  "image": "https://pennxiang.github.io/img/previews/default_cover.png",
  "datePublished": "2025-03-19T12:43:44.000Z",
  "dateModified": "2025-05-07T15:38:46.079Z",
  "author": [
    {
      "@type": "Person",
      "name": "Penn Xiang",
      "url": "https://pennxiang.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://pennxiang.github.io/2025/03/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb/JSP/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 22
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":-1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JSP笔记',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-globe"></i><span> 导航</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/intro/intro/"><i class="fa-fw fas fa-link"></i><span> 站点导航</span></a></li><li><a class="site-page child" href="/intro/links/"><i class="fa-fw fas fa-bookmark"></i><span> 聚合导航</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E5%B7%A6%E5%B2%B8%E9%9B%86/"><i class="fa-fw fas fa-book"></i><span> 左岸集</span></a></li><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/"><i class="fa-fw fas fa-code"></i><span> 技术</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-rocket"></i><span> 项目</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/projects/envision/"><i class="fa-fw fas fa-lightbulb"></i><span> 设  想</span></a></li><li><a class="site-page child" href="/projects/Ongoing/"><i class="fa-fw fas fa-spinner"></i><span> 进行中</span></a></li><li><a class="site-page child" href="/projects/completed/"><i class="fa-fw fas fa-check-circle"></i><span> 完  成</span></a></li><li><a class="site-page child" href="/projects/failed/"><i class="fa-fw fas fa-skull-crossbones"></i><span> 已  凉</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/extensions/musics/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/extensions/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/extensions/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page child" href="/extensions/todo/"><i class="fa-fw fas fa-tasks"></i><span> 待办</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/setting/"><i class="fa-fw fas fa-cog"></i><span> 设置</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/previews/default_cover.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"></a><a class="nav-page-title" href="/"><span class="site-name">JSP笔记</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-globe"></i><span> 导航</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/intro/intro/"><i class="fa-fw fas fa-link"></i><span> 站点导航</span></a></li><li><a class="site-page child" href="/intro/links/"><i class="fa-fw fas fa-bookmark"></i><span> 聚合导航</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E5%B7%A6%E5%B2%B8%E9%9B%86/"><i class="fa-fw fas fa-book"></i><span> 左岸集</span></a></li><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/"><i class="fa-fw fas fa-code"></i><span> 技术</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-rocket"></i><span> 项目</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/projects/envision/"><i class="fa-fw fas fa-lightbulb"></i><span> 设  想</span></a></li><li><a class="site-page child" href="/projects/Ongoing/"><i class="fa-fw fas fa-spinner"></i><span> 进行中</span></a></li><li><a class="site-page child" href="/projects/completed/"><i class="fa-fw fas fa-check-circle"></i><span> 完  成</span></a></li><li><a class="site-page child" href="/projects/failed/"><i class="fa-fw fas fa-skull-crossbones"></i><span> 已  凉</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/extensions/musics/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/extensions/movies/"><i class="fa-fw fas fa-film"></i><span> 电影</span></a></li><li><a class="site-page child" href="/extensions/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page child" href="/extensions/todo/"><i class="fa-fw fas fa-tasks"></i><span> 待办</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/setting/"><i class="fa-fw fas fa-cog"></i><span> 设置</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">JSP笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-19T12:43:44.000Z" title="发表于 2025-03-19 20:43:44">2025-03-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-07T15:38:46.079Z" title="更新于 2025-05-07 23:38:46">2025-05-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">5.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><p>第一个JSP程序：</p>
<ul>
<li><p>在WEB-INF目录之外创建一个index.jsp文件，然后这个文件中没有任何内容。</p>
</li>
<li><p>将上面的项目部署之后，启动服务器，打开浏览器，访问以下地址：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://localhost:8080/jsp/index.jsp">http://localhost:8080/jsp/index.jsp</a> 展现在大家面前的是一个空白。</li>
<li>实际上访问以上的这个：index.jsp，底层执行的是：index_jsp.class 这个java程序。</li>
<li>这个index.jsp会被tomcat翻译生成index_jsp.java文件，然后tomcat服务器又会将index_jsp.java编译生成index_jsp.class文件</li>
<li>访问index.jsp，实际上执行的是index_jsp.class中的方法。</li>
</ul>
</li>
</ul>
<p>JSP实际上就是一个Servlet</p>
<ul>
<li><p>index.jsp访问的时候，会自动翻译生成index_jsp.java，会自动编译生成index_jsp.class，那么index_jsp 这就是一个类。</p>
</li>
<li><p>index_jsp 类继承 HttpJspBase，而HttpJspBase类继承的是HttpServlet。所以index_jsp类就是一个Servlet类。</p>
</li>
<li><p>jsp的生命周期和Servlet的生命周期完全相同。完全就是一个东西。没有任何区别。</p>
</li>
<li><p>jsp和servlet一样，都是单例的。（假单例）</p>
</li>
<li><p>jsp文件第一次访问的时候是比较慢的，为什么？</p>
<ul>
<li>为什么大部分的运维人员在给客户演示项目的时候，为什么提前先把所有的jsp文件先访问一遍。</li>
<li>第一次比较麻烦：<ul>
<li>要把jsp文件翻译生成java源文件</li>
<li>java源文件要编译生成class字节码文件</li>
<li>然后通过class去创建servlet对象</li>
<li>然后调用servlet对象的init方法</li>
<li>最后调用servlet对象的service方法。</li>
</ul>
</li>
<li>第二次就比较快了，为什么？<ul>
<li>因为第二次直接调用单例servlet对象的service方法即可。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>JSP是什么？</p>
<ul>
<li><p>JSP是java程序。（JSP本质还是一个Servlet）</p>
</li>
<li><p>JSP是：JavaServer Pages的缩写。（基于Java语言实现的服务器端的页面。）</p>
</li>
<li><p>Servlet是JavaEE的13个子规范之一，那么JSP也是JavaEE的13个子规范之一。</p>
</li>
<li><p>JSP是一套规范。所有的web容器&#x2F;web服务器都是遵循这套规范的，都是按照这套规范进行的“翻译”</p>
</li>
<li><p>每一个web容器&#x2F;web服务器都会内置一个JSP翻译引擎。</p>
</li>
<li><p>对JSP进行错误调试的时候，还是要直接打开JSP文件对应的java文件，检查java代码。</p>
</li>
<li><p>开发JSP的最高境界：</p>
<ul>
<li>眼前是JSP代码，但是脑袋中呈现的是java代码。</li>
</ul>
</li>
</ul>
<p>JSP既然本质上是一个Servlet，那么JSP和Servlet到底有什么区别呢？</p>
<ul>
<li>职责不同：<ul>
<li>Servlet的职责是什么：收集数据。（Servlet的强项是逻辑处理，业务处理，然后链接数据库，获取&#x2F;收集数据。）</li>
<li>JSP的职责是什么：展示数据。（JSP的强项是做数据的展示）</li>
</ul>
</li>
</ul>
<p>JSP的基础语法</p>
<ul>
<li>在jsp文件中直接编写文字，都会自动被翻译到哪里？<ul>
<li>翻译到servlet类的service方法的out.write(“翻译到这里”)，直接翻译到双引号里，被java程序当做普通字符串打印输出到浏览器。</li>
<li>在JSP中编写的HTML CSS JS代码，这些代码对于JSP来说只是一个普通的字符串。但是JSP把这个普通的字符串一旦输出到浏览器，浏览器就会对HTML CSS JS进行解释执行。展现一个效果。</li>
</ul>
</li>
<li>JSP的page指令（这个指令后面再详细说，这里先解决一下中文乱码问题），解决响应时的中文乱码问题：<ul>
<li>通过page指令来设置响应的内容类型，在内容类型的最后面添加：charset&#x3D;UTF-8<ul>
<li>&lt;%@page contentType&#x3D;”text&#x2F;html;charset&#x3D;UTF-8”%&gt;，表示响应的内容类型是text&#x2F;html，采用的字符集UTF-8</li>
<li>&lt;%@page import&#x3D;”java.util.List,java.util.ArrayList”%&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>怎么在JSP中编写Java程序</p>
<ul>
<li><strong>&lt;% java语句; %&gt;</strong><ul>
<li>在这个符号当中编写的被视为java程序，被翻译到Servlet类的service方法内部。</li>
<li>这里你要细心点，你要思考，在&lt;% %&gt;这个符号里面写java代码的时候，你要时时刻刻的记住你正在“方法体”当中写代码，方法体中可以写什么，不可以写什么，你心里是否明白呢？</li>
<li>在service方法当中编写的代码是有顺序的，方法体当中的代码要遵循自上而下的顺序依次逐行执行。</li>
<li>service方法当中不能写静态代码块，不能写方法，不能定义成员变量。。。。。。</li>
<li>在同一个JSP当中 &lt;%%&gt; 这个符号可以出现多个。</li>
</ul>
</li>
<li><strong>&lt;%! %&gt;</strong><ul>
<li>在这个符号当中编写的java程序会自动翻译到service方法之外。</li>
<li>这个语法很少用，不建议使用，因为在service方法外面写静态变量和实例变量，都会存在<strong>线程安全问题</strong>，因为JSP就是servlet，servlet是单例的，多线程并发的环境下，这个静态变量和实例变量一旦有修改操作，必然会存在线程安全问题。</li>
</ul>
</li>
</ul>
<p>JSP的输出语句</p>
<ul>
<li>怎么向浏览器上输出一个java变量。</li>
<li>&lt;% String name &#x3D; “jack”;  out.write(“name &#x3D; “ + name); %&gt;</li>
<li>注意：以上代码中的out是JSP的九大内置对象之一。可以直接拿来用。当然，必须只能在service方法内部使用。</li>
<li>如果向浏览器上输出的内容中没有“java代码”，例如输出的字符串是一个固定的字符串，可以直接在jsp中编写，不需要写到&lt;%%&gt; 这里。</li>
<li>如果输出的内容中含有“java代码”，这个时候可以使用以下语法格式：<ul>
<li>&lt;%&#x3D; %&gt; 注意：在&#x3D;的后面编写要输出的内容。</li>
<li>&lt;%&#x3D; %&gt; 这个符号会被翻译到哪里？最终翻译成什么？ <ul>
<li>翻译成了这个java代码：   out.print();</li>
<li>翻译到service方法当中了。</li>
</ul>
</li>
<li>什么时候使用&lt;%&#x3D;%&gt; 输出呢？输出的内容中含有java的变量，输出的内容是一个动态的内容，不是一个死的字符串。如果输出的是一个固定的字符串，直接在JSP文件中编写即可。</li>
</ul>
</li>
</ul>
<p>在JSP中编写JSP的专业注释</p>
<ul>
<li>&lt;%–JSP的专业注释，不会被翻译到java源代码当中。–%&gt;</li>
<li><!--这种注释属于HTML的注释，这个注释信息仍然会被翻译到java源代码当中，不建议。--></li>
</ul>
<h2 id="JSP基础语法总结"><a href="#JSP基础语法总结" class="headerlink" title="JSP基础语法总结"></a>JSP基础语法总结</h2><ul>
<li>JSP中直接编写普通字符串<ul>
<li>翻译到service方法的out.write(“这里”)</li>
</ul>
</li>
<li>&lt;%%&gt;<ul>
<li>翻译到service方法体内部，里面是一条一条的java语句。</li>
</ul>
</li>
<li>&lt;%! %&gt;<ul>
<li>翻译到service方法之外。</li>
</ul>
</li>
<li>&lt;%&#x3D; %&gt;<ul>
<li>翻译到service方法体内部，翻译为：out.print();</li>
</ul>
</li>
<li>&lt;%@page  contentType&#x3D;”text&#x2F;html;charset&#x3D;UTF-8”%&gt;<ul>
<li>page指令，通过contentType属性用来设置响应的内容类型。</li>
</ul>
</li>
</ul>
<p>使用Servlet + JSP完成oa项目的改造。</p>
<ul>
<li>使用Servlet处理业务，收集数据。 使用JSP展示数据。</li>
<li>将之前原型中的html文件，全部修改为jsp，然后在jsp文件头部添加page指令（指定contentType防止中文乱码），将所有的JSP直接拷贝到web目录下。</li>
<li>完成所有页面的正常流转。（页面仍然能够正常的跳转。修改超链接的请求路径。）<ul>
<li>&lt;%&#x3D;request.getContextPath() %&gt;  在JSP中动态的获取应用的根路径。</li>
</ul>
</li>
<li>Servlet中连接数据库，查询所有的部门，遍历结果集。<ul>
<li>遍历结果集的过程中，取出部门编号、部门名、位置等信息，封装成java对象。</li>
<li>将java对象存放到List集合中。</li>
<li>将List集合存储到request域当中。</li>
<li>转发forward到jsp。</li>
</ul>
</li>
<li>在JSP中<ul>
<li>从request域当中取出List集合。</li>
<li>遍历List集合，取出每个部门对象。动态生成tr。</li>
</ul>
</li>
</ul>
<p>思考一个问题：如果我只用JSP这一个技术，能不能开发web应用？</p>
<ul>
<li>当然可以使用JSP来完成所有的功能。因为JSP就是Servlet，在JSP的&lt;%%&gt;里面写的代码就是在service方法当中的，所以在&lt;%%&gt;当中完全可以编写JDBC代码，连接数据库，查询数据，也可以在这个方法当中编写业务逻辑代码，处理业务，都是可以的，所以使用单独的JSP开发web应用完全没问题。</li>
<li>虽然JSP一个技术就可以完成web应用，但是不建议，还是建议采用servlet + jsp的方式进行开发。这样都能将各自的优点发挥出来。JSP就是做数据展示。Servlet就是做数据的收集。（JSP中编写的Java代码越少越好。）一定要职责分明。</li>
</ul>
<p>JSP文件的扩展名必须是xxx.jsp吗？</p>
<ul>
<li><p>jsp文件的扩展名是可以配置的。不是固定的。</p>
</li>
<li><p>在CATALINA_HOME&#x2F;conf&#x2F;web.xml，在这个文件当中配置jsp文件的扩展名。</p>
</li>
<li><pre><code class="language-xml">&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
    &lt;url-pattern&gt;*.jspx&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
<pre class="line-numbers language-none"><code class="language-none">
- xxx.jsp文件对于小猫咪来说，只是一个普通的文本文件，web容器会将xxx.jsp文件最终生成java程序，最终调用的是java对象相关的方法，真正执行的时候，和jsp文件就没有关系了。


- 完成剩下所有功能的改造。


- 当前的oa应用存在的问题：
  - 任何一个用户都可以访问这个系统，都可以对这个系统当中的数据进行增删改这些危险的操作。我只想让合法的用户去使用这个系统，不合法的用户不能访问这个系统，怎么办？
    - 加一个登录功能。登录成功的可以访问该系统，登录失败不能访问。

实现登录功能：

- 步骤1：数据库当中添加一个用户表：t_user
  - t_user表当中存储的是用户的登录信息，最基本的也包括：登录的用户名和登录的密码。
  - 密码一般在数据库表当中存储的是密文。一般不以明文的形式存储。（这里先使用明文方式。）
  - 向t_user表中插入数据。
- 步骤2：再实现一个登录页面。
  - 登录页面上应该有一个登录的表单。有用户名和密码输入的框。
  - 用户点击登录，提交表单，提交用户名和密码。form是post方式提交。
- 步骤3：后台要有一个对应的Servlet来处理登录的请求。
  - 登录成功：跳转到部门列表页面。
  - 登录失败：跳转到失败的页面。
- 步骤4：再提供一个登录失败的页面。


- 登录功能实现了，目前存在的最大的问题：
  - 这个登录功能目前只是一个摆设，没有任何作用。只要用户知道后端的请求路径，照样可以在不登录的情况下访问。
  - 这个登录没有真正起到拦截的作用。怎么解决？

JSP的指令

- 指令的作用

  * 指导JSP的翻译引擎如何工作（指导当前的JSP翻译引擎如何翻译JSP文件。）

- 指令包括哪些呢？

  - include指令：包含指令，在JSP中完成静态包含，很少用了。（这里不讲）
  - taglib指令：引入标签库的指令。这个到JJSTL标签库的时候再学习。现在先不管。
  - page指令：目前重点学习一个page指令。

- 指令的使用语法

  - &lt;%@指令名  属性名&#x3D;属性值  属性名&#x3D;属性值  属性名&#x3D;属性值....%&gt;

- 关于page指令当中的常用属性

  * 是否启动内置对象session
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
  &lt;%@page session=&quot;true|false&quot; %&gt;
  true表示启用JSP的内置对象session，表示一定启动session对象。没有session对象会创建。
  如果没有设置，默认值就是session=&quot;true&quot;
  session=&quot;false&quot; 表示不启动内置对象session。当前JSP页面中无法使用内置对象session。
  <pre class="line-numbers language-none"><code class="language-none">
* 设置响应的内容类型
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
  &lt;%@page contentType=&quot;text/json&quot; %&gt;
  contentType属性用来设置响应的内容类型
  但同时也可以设置字符集。
  &lt;%@page contentType=&quot;text/json;charset=UTF-8&quot; %&gt;
  <pre class="line-numbers language-none"><code class="language-none">
* 设置响应时采用的字符集
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
  &lt;%@page pageEncoding=&quot;UTF-8&quot; %&gt;
  pageEncoding=&quot;UTF-8&quot; 表示设置响应时采用的字符集。
  <pre class="line-numbers language-none"><code class="language-none">
* 导包
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
  &lt;%@page import=&quot;java.util.List, java.util.Date, java.util.ArrayList&quot; %&gt;
  &lt;%@page import=&quot;java.util.*&quot; %&gt;
  import语句，导包。
  <pre class="line-numbers language-none"><code class="language-none">
* 出现异常跳转
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
  &lt;%@page errorPage=&quot;/error.jsp&quot; %&gt;
  当前页面出现异常之后，跳转到error.jsp页面。
  errorPage属性用来指定出错之后的跳转位置。
  <pre class="line-numbers language-none"><code class="language-none">
* 启用JSP九大内置对象之一：exception
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
  &lt;%@page isErrorPage=&quot;true&quot; %&gt;
  表示启用JSP九大内置对象之一：exception
  默认值是false。
  <pre class="line-numbers language-none"><code class="language-none">
JSP的九大内置对象

- 页面作用域, 提供对JSP页面所有对象和命名空间的访问
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
jakarta.servlet.jsp.PageContext pageContext
<pre class="line-numbers language-none"><code class="language-none">
- 请求作用域, 代表客户端的请求
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.http.HttpServletRequest request 
<pre class="line-numbers language-none"><code class="language-none">
- 会话作用域, 代表用户的会话
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.http.HttpSession session  
<pre class="line-numbers language-none"><code class="language-none">
- 应用作用域, 代表整个Web应用程序的上下文
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.ServletContext application 

- pageContext &lt; request &lt; session &lt; application
- 以上四个作用域都有：setAttribute、getAttribute、removeAttribute方法。
- 以上作用域的使用原则：尽可能使用小的域

<pre class="line-numbers language-none"><code class="language-none">
- 处理页面中的异常
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
java.lang.Throwable exception
<pre class="line-numbers language-none"><code class="language-none">
- 提供对Servlet配置信息的访问 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.ServletConfig config
<pre class="line-numbers language-none"><code class="language-none">
- 其实是this，当前的servlet对象
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
java.lang.Object page
<pre class="line-numbers language-none"><code class="language-none">
- 提供输出流, 负责输出
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.jsp.JspWriter out
<pre class="line-numbers language-none"><code class="language-none">
- 代表对客户端的响应, 负责响应
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
jakarta.servlet.http.HttpServletResponse response
<pre class="line-numbers language-none"><code class="language-none">
# EL表达式

EL表达式作用

- Expression Language（表达式语言）
- EL表达式可以代替JSP中的java代码，让JSP文件中的程序看起来更加整洁，美观。
- JSP中夹杂着各种java代码，例如&lt;% java代码 %&gt;、&lt;%&#x3D;%&gt;等，导致JSP文件很混乱，不好看，不好维护。所以才有了后期的EL表达式。
- EL表达式可以算是JSP语法的一部分。EL表达式归属于JSP。

EL表达式出现在JSP中主要是：

- 从某个作用域中取数据，然后将其转换成字符串，然后将其输出到浏览器。这就是EL表达式的功效。三大功效：
  - 第一功效：从某个域中取数据。
    - 四个域：
      - pageContext
      - request
      - session
      - application
  - 第二功效：将取出的数据转成字符串。
    - 如果是一个java对象，也会自动调用java对象的toString方法将其转换成字符串。
  - 第三功效：将字符串输出到浏览器。
    - 和这个一样：&lt;%&#x3D; %&gt;，将其输出到浏览器。

EL表达式基本的语法格式：

- $&#123;表达式&#125;


- EL表达式的使用：

  - &#96;&#96;&#96;jsp
    &lt;%
    	&#x2F;&#x2F; 创建User对象
    	User user &#x3D; new User();
    	user.setUsername(&quot;jackson&quot;);
    	user.setPassword(&quot;1234&quot;);
    	user.setAge(50);

    	&#x2F;&#x2F; 将User对象存储到某个域当中。一定要存，因为EL表达式只能从某个范围中取数据。
    	&#x2F;&#x2F; 数据是必须存储到四大范围之一的。
    	request.setAttribute(&quot;userObj&quot;, user);
    %&gt;

    &lt;%--使用EL表达式取--%&gt;
    $&#123;这个位置写什么？？？？这里写的一定是存储到域对象当中时的name&#125;
    要这样写：
    $&#123;userObj&#125;
    等同于java代码：&lt;%&#x3D;request.getAttribute(&quot;userObj&quot;)%&gt;
    你不要这样写：$&#123;&quot;userObj&quot;&#125;

    面试题：
    	$&#123;abc&#125; 和 $&#123;&quot;abc&quot;&#125;的区别是什么？
    		$&#123;abc&#125;表示从某个域中取出数据，并且被取的这个数据的name是&quot;abc&quot;，之前一定有这样的代码: 域.setAttribute(&quot;abc&quot;, 对象);
    		$&#123;&quot;abc&quot;&#125; 表示直接将&quot;abc&quot;当做普通字符串输出到浏览器。不会从某个域中取数据了。

    $&#123;userObj&#125; 底层是怎么做的？从域中取数据，取出user对象，然后调用user对象的toString方法，转换成字符串，输出到浏览器。

    &lt;%--如果想输出对象的属性值，怎么办？--%&gt;
    $&#123;userObj.username&#125; 使用这个语法的前提是：User对象有getUsername()方法。
    $&#123;userObj.password&#125; 使用这个语法的前提是：User对象有getPassword()方法。
    $&#123;userObj.age&#125; 使用这个语法的前提是：User对象有getAge()方法。
    $&#123;userObj.email&#125; 使用这个语法的前提是：User对象有getEmail()方法。
    EL表达式中的. 这个语法，实际上调用了底层的getXxx()方法。
    注意：如果没有对应的get方法，则出现异常。报500错误。

    $&#123;userObj.addr222.zipcode&#125;
    以上EL表达式对应的java代码：
    user.getAddr222().getZipcode()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

- EL表达式优先从小范围中读取数据。

  - pageContext &lt; request &lt; session &lt; application

- EL表达式中有四个隐含的隐式的范围：

  - pageScope 对应的是 pageContext范围。
  - requestScope 对应的是 request范围。
  - sessionScope 对应的是 session范围。
  - applicationScope 对应的是 application范围。

- EL表达式对null进行了预处理。如果是null，则向浏览器输出一个空字符串。

- EL表达式取数据的时候有两种形式：

  - 第一种：`.  `（大部分使用这种方式）
  - 第二种：`[ ]` （如果存储到域的时候，这个name中含有特殊字符，可以使用 [ ]）
    - request.setAttribute(&quot;abc.def&quot;, &quot;zhangsan&quot;);
    - $&#123;requestScope.abc.def&#125; 这样是无法取值的。
    - 应该这样：$&#123;requestScope[&quot;abc.def&quot;]&#125;
</code></pre>
</li>
<li><p>怎么从Map集合中取数据：</p>
<ul>
<li>${map.key}</li>
</ul>
</li>
<li><p>怎么从数组和List集合中取数据：</p>
<ul>
<li>${数组[0]}</li>
<li>${数组[1]}</li>
<li>${list[0]}</li>
</ul>
</li>
<li><p>page指令当中，有一个属性，可以忽略EL表达式</p>
<ul>
<li><pre><code>&lt;%@page contentType=&quot;text/html;charset=UTF-8&quot; isELIgnored=&quot;true&quot; %&gt;
isELIgnored=&quot;true&quot; 表示忽略EL表达式
isELIgnored=&quot;false&quot; 表示不忽略EL表达式。（这是默认值）

isELIgnored=&quot;true&quot; 这个是全局的控制。

可以使用反斜杠进行局部控制：\$&#123;username&#125; 这样也可以忽略EL表达式。


<pre class="line-numbers language-none"><code class="language-none">

  - 通过EL表达式获取应用的根：

    - $&#123;pageContext.request.contextPath&#125;

  - EL表达式中其他的隐式对象：

    - pageContext
    - param
    - paramValues
    - initParam

  - EL表达式的运算符

    - 算术运算符

      &#96;+&#96;、&#96;-&#96;、&#96;*&#96;、&#96;&#x2F;&#96;、&#96;%&#96;

    - 关系运算符

      &#96;&#x3D;&#x3D;&#96;、 &#96;eq &#96; 、&#96;!&#x3D;&#96; 、&#96;&gt;&#96; 、&#96;&gt;&#x3D;&#96; 、&#96;&lt;&#96; 、&#96;&lt;&#x3D;&#96; 

    - 逻辑运算符

      &#96;!&#96; 、&#96;&amp;&amp;&#96; 、&#96;||&#96;、 &#96;not&#96;、&#96;and&#96;、&#96;or&#96;

    - 条件运算符

      &#96;?&#96;、&#96;:&#96; 

    - 取值运算符

      &#96;[ ]&#96;和&#96;.&#96;

    - empty运算符

      empty运算符的结果是boolean类型

      $&#123;empty param.username&#125;

      $&#123;not empty param.username&#125;

      $&#123;!empty param.password&#125;

# JSTL标签库

什么是JSTL标签库？

- Java Standard Tag Lib（Java标准的标签库）
- JSTL标签库通常结合EL表达式一起使用。目的是让JSP中的java代码消失。
- 标签是写在JSP当中的，但实际上最终还是要执行对应的java程序。（java程序在jar包当中。）

使用JSTL标签库的步骤：

- 第一步：引入JSTL标签库对应的jar包。

  - tomcat10之后引入的jar包是：
    - jakarta.servlet.jsp.jstl-2.0.0.jar
    - jakarta.servlet.jsp.jstl-api-2.0.0.jar
  - 在IDEA当中怎么引入？
    - 在WEB-INF下新建lib目录，然后将jar包拷贝到lib当中。然后将其“Add Lib...”
    - 一定是要和mysql的数据库驱动一样，都是放在WEB-INF&#x2F;lib目录下的。
    - 什么时候需要将jar包放到WEB-INF&#x2F;lib目录下？如果这个jar是tomcat服务器没有的。

- 第二步：在JSP中引入要使用标签库。（使用taglib指令引入标签库。）

  - JSTL提供了很多种标签，你要引入哪个标签？？？？重点掌握核心标签库。

  - &#96;&#96;&#96;
    &lt;%@taglib prefix&#x3D;&quot;c&quot; uri&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;jsp&#x2F;jstl&#x2F;core&quot; %&gt;
    这个就是核心标签库。
    prefix&#x3D;&quot;这里随便起一个名字就行了，核心标签库，大家默认的叫做c，你随意。&quot;

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
</li>
</ul>
</li>
<li><p>第三步：在需要使用标签的位置使用即可。表面使用的是标签，底层实际上还是java程序。</p>
</li>
</ul>
<p>JSTL标签的原理</p>
<ul>
<li><pre><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
以上uri后面的路径实际上指向了一个xxx.tld文件。
tld文件实际上是一个xml配置文件。
在tld文件中描述了“标签”和“java类”之间的关系。
以上核心标签库对应的tld文件是：c.tld文件。它在哪里。
在jakarta.servlet.jsp.jstl-2.0.0.jar里面META-INF目录下，有一个c.tld文件。


<pre class="line-numbers language-none"><code class="language-none">
- 源码解析：配置文件tld解析

  - &#96;&#96;&#96;
    &lt;tag&gt;
        &lt;description&gt;对该标签的描述&lt;&#x2F;description&gt;
        &lt;name&gt;catch&lt;&#x2F;name&gt; 标签的名字
        &lt;tag-class&gt;org.apache.taglibs.standard.tag.common.core.CatchTag&lt;&#x2F;tag-class&gt; 标签对应的java类。
        &lt;body-content&gt;JSP&lt;&#x2F;body-content&gt; 标签体当中可以出现的内容，如果是JSP，就表示标签体中可以出现符合JSP所有语法的代码。例如EL表达式。
        &lt;attribute&gt;
            &lt;description&gt;
            	对这个属性的描述
            &lt;&#x2F;description&gt;
            &lt;name&gt;var&lt;&#x2F;name&gt; 属性名
            &lt;required&gt;false&lt;&#x2F;required&gt; false表示该属性不是必须的。true表示该属性是必须的。
            &lt;rtexprvalue&gt;false&lt;&#x2F;rtexprvalue&gt; 这个描述说明了该属性是否支持EL表达式。false表示不支持。true表示支持EL表达式。
        &lt;&#x2F;attribute&gt;
      &lt;&#x2F;tag&gt;

    &lt;c:catch var&#x3D;&quot;&quot;&gt;
    	JSP....
    &lt;&#x2F;c:catch&gt;

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
</li>
<li><p>jstl中的核心标签库core当中有哪些常用的标签呢？</p>
<ul>
<li><p>c:if</p>
<ul>
<li>&lt;c:if test&#x3D;”boolean类型，支持EL表达式”&gt;&lt;&#x2F;c: if&gt;</li>
</ul>
</li>
<li><p>c:forEach</p>
<ul>
<li>&lt;c:forEach items&#x3D;”集合，支持EL表达式” var&#x3D;”集合中的元素” varStatus&#x3D;”元素状态对象”&gt; ${元素状态对象.count} &lt;&#x2F;c: forEach&gt;</li>
<li>&lt;c:forEach var&#x3D;”i” begin&#x3D;”1” end&#x3D;”10” step&#x3D;”2”&gt; ${i} &lt;&#x2F;c: forEach&gt;</li>
</ul>
</li>
<li><p>c:choose c:when c:otherwise</p>
<ul>
<li><pre><code>&lt;c:choose&gt;
    &lt;c:when test=&quot;$&#123;param.age &lt; 18&#125;&quot;&gt;
        青少年
    &lt;/c:when&gt;
    &lt;c:when test=&quot;$&#123;param.age &lt; 35&#125;&quot;&gt;
        青年
    &lt;/c:when&gt;
    &lt;c:when test=&quot;$&#123;param.age &lt; 55&#125;&quot;&gt;
        中年
    &lt;/c:when&gt;
    &lt;c:otherwise&gt;
        老年
    &lt;/c:otherwise&gt;
&lt;/c:choose&gt;

<pre class="line-numbers language-none"><code class="language-none">
## 改造OA

- 使用什么技术改造呢？

  - Servlet + JSP + EL表达式 + JSTL标签。进行改造。

- 在前端HTML代码中，有一个标签，叫做base标签，这个标签可以设置整个网页的基础路径。

  - 这是Java的语法，也不是JSP的语法。是HTML中的一个语法。HTML中的一个标签。通常出现在head标签中。

  - &lt; base href&#x3D;&quot;http:&#x2F;&#x2F;localhost:8080&#x2F;oa&#x2F;&quot;&gt;

  - 在当前页面中，凡是路径没有以“&#x2F;”开始的，都会自动将base中的路径添加到这些路径之前。

    - &lt; a href&#x3D;&quot;ab&#x2F;def&quot;&gt;&lt;&#x2F; a&gt;
    - 等同于：&lt; a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:8080&#x2F;oa&#x2F;ab&#x2F;def&quot;&gt;&lt;&#x2F; a&gt;

  - 需要注意：在JS代码中的路径，保险起见，最好不要依赖base标签。JS代码中的路径最好写上全路径。

  - &#96;&#96;&#96;
    &lt;base href&#x3D;&quot;$&#123;pageContext.request.scheme&#125;:&#x2F;&#x2F;$&#123;pageContext.request.serverName&#125;:$&#123;pageContext.request.serverPort&#125;$&#123;pageContext.request.contextPath&#125;&#x2F;&quot;&gt;

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://pennxiang.github.io">Penn Xiang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://pennxiang.github.io/2025/03/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb/JSP/">https://pennxiang.github.io/2025/03/19/学习笔记/JavaWeb/JSP/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://pennxiang.github.io" target="_blank">鹏</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JSP/">JSP</a></div><div class="post-share"><div class="social-share" data-image="/img/previews/default_cover.png" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related  no-desc" href="/2025/03/20/%E6%8A%80%E6%9C%AF/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Git学习笔记"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/preview.gif" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Git学习笔记</div></div></div></a><a class="pagination-related  no-desc" href="/2025/03/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/JavaWeb/Servlet/" title="Servlet笔记"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/previews/default_cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Servlet笔记</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JSP"><span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-text">JSP基础语法总结</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By Penn Xiang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-eta-gules.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-eta-gules.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script src="/js/custom.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>